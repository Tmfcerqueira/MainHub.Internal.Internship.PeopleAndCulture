@using MainHub.Internal.PeopleAndCulture.TimesheetManagement.Shared.Private
@using MainHub.Internal.PeopleAndCulture.TimesheetManagement.Resources;
@using Microsoft.Extensions.Localization;
@using Microsoft.Identity.Web;
@inject IStringLocalizer<Resource> _localizer;
@attribute [Authorize(Roles = "SkillHub.User")]
@page "/dashboard"
@layout PrivateMainLayout

<PageTitle>@_localizer["Dashboard"]</PageTitle>

@if (_isLoading == true)
{
    <div class="d-flex justify-content-center align-items-center">
        <div class="col-4 text-center">
            <img src="assets/img/mainhub__logo_yellow_grey_trans.png" alt="MainHub logo" class="img-fluid" />
            <p class="loading-text">Loading...</p>
        </div>
        <div class="col-6 text-center">
            <img src="assets/img/loadingMan.gif" alt="Loading..." class="img-fluid" style="border: none;" />
        </div>
    </div>
}
else
{
    <h1 class="text-center" style="margin-top: 80px;">@_localizer["Dashboard"]</h1>

    <div class="d-flex justify-content-center">
        <RadzenButton Text="@_localizer["TimesheetsList"]" class="m-2 mb-0 btn-sm" ButtonStyle="ButtonStyle.Info" Click="@(() => RedirectToTimesheetsList())"></RadzenButton>
    </div>

    <div class="col" style="margin-top: 20px;">
        <div class="d-flex justify-content-center">

            <div class="card text-white bg-success mb-3 m-4" style="width: 15rem;">
                <div class="card-header text-center">@_localizer["Timesheets"]</div>
                <div class="card-body">
                    <h5 class="card-title text-center">@_localizer["Approved"]</h5>
                    <p class="card-text h3 text-center">@Approved</p>
                </div>
            </div>

            <div class="card text-dark bg-warning mb-3 m-4" style="width: 15rem;">
                <div class="card-header text-center">@_localizer["Timesheets"]</div>
                <div class="card-body">
                    <h5 class="card-title text-center">@_localizer["Drafts"]</h5>
                    <p class="card-text h3 text-center">@Draft</p>
                </div>
            </div>

            <div class="card text-dark bg-light mb-3 m-4" style="width: 15rem;">
                <div class="card-header text-center">@_localizer["Timesheets"]</div>
                <div class="card-body">
                    <h5 class="card-title text-center">@_localizer["Submitted"]</h5>
                    <p class="card-text h3 text-center">@Submitted</p>
                </div>
            </div>

            <div class="card text-white bg-danger mb-3 m-4" style="width: 15rem;">
                <div class="card-header text-center">@_localizer["Timesheets"]</div>
                <div class="card-body">
                    <h5 class="card-title text-center">@_localizer["Rejected"]</h5>
                    <p class="card-text h3 text-center">@Rejected</p>
                </div>
            </div>

        </div>
    </div>
}